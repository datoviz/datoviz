<!DOCTYPE html>
<html>

<head>
    <style>
        html {
            background-color: black;
        }
    </style>
    <script>
        window.id = 1;
        function loadJSON(id) {
            var data;
            if (id == 1)
                data = '{{ jsonfile1 | safe}}';
            else
                data = '{{ jsonfile2 | safe}}';
            return data;
        }

        function submit(id) {
            var data = loadJSON(id);
            fetch("/request", {
                method: "post",
                headers: {
                    'Accept': 'application/json, text/plain, */*',
                    'Content-Type': 'application/json'
                },
                body: data
            }).then(res => {
                document.getElementById("img").setAttribute("src", "/render?" + id);
            });
        }
    </script>
</head>

<body>
    <img width="800" height="600" id="img" />
    <br>
    <button onclick="submit(id++ % 2);">Submit</button>
</body>

</html>
